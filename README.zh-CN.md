# Heablcoin MCP ??????

[English](README.md) | [????](README.zh-CN.md)

> ?? MCP ???????????????????????????????

![Version](https://img.shields.io/badge/version-0.1.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Python](https://img.shields.io/badge/python-3.8+-blue.svg)

Heablcoin ?? Claude Desktop / Windsurf ? MCP ??????????????????????????????????????

## ????

- AI ???????/??/?????????????
- ????????? JSON??????????
- ?????????????????????????
- ????????/Webhook???????????
- ?????`publish_task` ?????????????????
- ??????? `ai_research` ?????? Notion ???
- ????????????????????????????????
- ??????????+???AI ???????????????????
- ??????????Redis ????????/???

## ????

- ??? MCP Server?`Heablcoin.py`?stdio??????? `src/core/server.py`?
- ??????`src/tools` ?? MCP ???`src/skills` ????????????????????/??/????
- ??????`src/core/cloud` ?? Redis ??/??? Webhook ???
- ?????`src/storage` ??/Redis/Notion/???`src/utils/env_helpers.py` ?????
- ??????`src/skills/risk`?`src/skills/governance`?`src/core/mcp_safety.py` ???????????????
- ??????`data/` ??? JSON?`logs/` ?????`lesson/` ????????

## ????

- [????](docs/user/????.md)
- [????](docs/user/????.md)
- [API ??](docs/developer/API??.md)
- [????/API_SPEC](API_SPEC.md)
- [????](DEPLOY_GUIDE.md)
- [????](docs/developer/????.md)
- [????](examples.md)

## ????????

? `.env` ????? `.env.example` ???????????

| ?? | ?? | ?? |
| --- | --- | --- |
| `HEABL_ENV` | ???`dev` / `prod` | ????????? |
| `HEABL_MODE` | ???`paper` / `live` | ?? paper?????? live |
| `EXCHANGE` | ??? | ? `binance` |
| `NETWORK` | ?? | ? `testnet` |
| `BINANCE_API_KEY` / `BINANCE_SECRET_KEY` | API ?? | ?? testnet |
| `REDIS_HOST` / `REDIS_PORT` / `REDIS_PASSWORD` | Redis ??/?? | ?????? |
| `SENDER_EMAIL` / `SENDER_PASSWORD` / `SMTP_SERVER` / `SMTP_PORT` / `RECEIVER_EMAIL` | ???? | ???????/?? |
| `NOTION_API_KEY` / `REPORTS_DB_ID` | Notion ?? | ?????/???? |
| LLM ???`HEABL_OPENAI_KEY`?`HEABL_DEEPSEEK_KEY` ?? | ???? | ???? |

## ??

```bash
# 1) ??
git clone https://github.com/your/repo.git heablcoin
cd heablcoin

# 2) ??
cp .env.example .env
# ???? testnet/paper ?????

# 3) ????
pip install -r requirements.txt

# 4) ??
python tests/run_tests.py --quick
```

## MCP ??

### Claude Desktop
? `claude_desktop_config.json` ????
```json
{
  "mcpServers": {
    "heablcoin": {
      "command": "python",
      "args": ["D:/MCP/Heablcoin.py"]
    }
  }
}
```
????????????? BTC ??? / ??????????

### Windsurf (Codeium MCP)
`mcp_config.json` ???
```json
{
  "mcpServers": {
    "heablcoin": {
      "args": ["d:/MCP/Heablcoin.py"],
      "command": "python",
      "disabled": false,
      "env": {
        "PYTHONIOENCODING": "utf-8",
        "PYTHONUTF8": "1"
      }
    }
  }
}
```

### ????
```bash
python Heablcoin-test.py --quick
python tests/run_tests.py unit
python -c "from core.cloud.task_executor import submit_task; submit_task('market_analysis','top_market_cap',{'limit':5})"
```
???????????????
```bash
python tests/run_tests.py email
```

## ?????????

- ?? `publish_task` / `publish_enhanced_task` ????????? Redis worker ????? Webhook ???
- MCP ?????
  - `mcp://heablcoin/publish_task?name=buy_the_dip&payload_json={"symbol":"BTC/USDT","when_price_lt":42000,"notional":200}`
  - `mcp://heablcoin/publish_enhanced_task?name=rebalance&priority=5&payload_json={"strategy":"alloc","target_pct":0.2}`
- ?????`Pending ? Executing ? Completed/Failed`???? `data/tasks/`?

## ??????

- **????**???/??/??/????????????????JSON ????
- **?????**???????????????????????????
- **????**?? LLM ??????/???????? Notion?
- **?????**?????????????????????????????AI ???/??/?????
- **????**??????????????????/??/??????
- **??**???? Webhook???????????

## ?????

```bash
# ????????
python scripts/scan_secrets.py --staged

# ????
python -m pytest
# ????
python tests/run_tests.py --quick

# ?? MCP ??
python Heablcoin.py
```
?????`dev/DEVELOPER_GUIDE.md`?`dev/DEV_LOG.md`?`docs/developer/Prompt???.md`??????????

## ?????

- ???`logs/`?analysis/performance/server_debug ???`lesson/` ????????
- ???`data/` JSON??????????????AI ?????????
- ???`reports/`???????? Notion ??????

## ?????

- ?? `HEABL_MODE=paper`?`NETWORK=testnet`?
- ??/????????????? `mcp://heablcoin/get_risk_budget_status` ???
- ????? AI ????????????????????

## License
????? [MIT License](LICENSE)?

---
???????????????????????????????????
