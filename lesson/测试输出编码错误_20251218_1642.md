测试输出编码错误，2025-12-18 16:42，测试运行器输出模块 (tests/run_tests.py)
---
### 问题描述
在 Windows gbk 终端运行 `python tests/run_tests.py unit` 时，因为输出包含 emoji 而触发 `UnicodeEncodeError: 'gbk' codec can't encode`，测试无法进行

### 根本原因分析
Windows 控制台默认 gbk 编码，测试运行器输出 emoji，终端无法编码导致输出中断

### 解决方案与步骤
1. 在 `tests/run_tests.py` 中强制 reconfigure stdout/stderr 为 utf-8，并使用 errors=replace
2. 为子测试进程注入 `PYTHONIOENCODING=utf-8` 和 `PYTHONUTF8=1` 环境变量
3. 重跑单元、集成与全量测试，确认通过
