# Heablcoin é¡¹ç›®å¼€å‘è€…æŒ‡å— ðŸª™

## 1. é¡¹ç›®æ„¿æ™¯

**Heablcoin** æ˜¯ä¸€ä¸ªå®Œå…¨éµå¾ª **Model Context Protocol (MCP)** æ ‡å‡†æž„å»ºçš„æ™ºèƒ½åŠ å¯†è´§å¸äº¤æ˜“åŠ©æ‰‹ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µä¸æ˜¯æ›¿ä»£äººç±»äº¤æ˜“ï¼Œè€Œæ˜¯ä½œä¸º**äº¤æ˜“å‘˜çš„æ™ºèƒ½å‰¯é©¾é©¶ (Co-pilot)**ã€‚

é€šè¿‡å°†å¤æ‚çš„é‡åŒ–åˆ†æžã€å®žæ—¶æ•°æ®æŠ“å–å’Œè‡ªåŠ¨åŒ–äº¤æ˜“é€»è¾‘å°è£…åœ¨ MCP å·¥å…·ä¸­ï¼ŒHeablcoin å…è®¸ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€ï¼ˆå¦‚ Claude Desktopï¼‰ä¸Žå¸‚åœºè¿›è¡Œæ·±åº¦äº¤äº’ã€‚

**æ ¸å¿ƒèƒ½åŠ›ï¼š**
*   **å…¨èƒ½æ„ŸçŸ¥**ï¼šæ•´åˆæŠ€æœ¯é¢ï¼ˆæŒ‡æ ‡ï¼‰ã€åŸºæœ¬é¢ï¼ˆæ–°é—»ï¼‰ã€æƒ…ç»ªé¢ï¼ˆææ…ŒæŒ‡æ•°ï¼‰ã€‚
*   **å®‰å…¨æ‰§è¡Œ**ï¼šå†…ç½®é£ŽæŽ§å±‚ã€ç™½åå•æœºåˆ¶å’Œç¡®è®¤æµç¨‹ã€‚
*   **æŒç»­æˆé•¿**ï¼šé€šè¿‡ä¸ªäººç»©æ•ˆåˆ†æžå’Œæ¨¡æ‹Ÿè®­ç»ƒæ¨¡å—ï¼Œå¸®åŠ©ç”¨æˆ·æå‡äº¤æ˜“æ°´å¹³ã€‚

---

## 2. æŠ€æœ¯æ ˆæ¦‚è§ˆ

æœ¬é¡¹ç›®åŸºäºŽ Python ç”Ÿæ€æž„å»ºï¼Œå¼ºè°ƒå¼‚æ­¥é«˜æ•ˆå’Œæ¨¡å—åŒ–è®¾è®¡ã€‚

| é¢†åŸŸ | å…³é”®æŠ€æœ¯ | ç”¨é€” |
| :--- | :--- | :--- |
| **æ ¸å¿ƒåè®®** | **FastMCP** (`mcp` SDK) | å®žçŽ° MCP æ ‡å‡†ï¼Œå¤„ç† JSON-RPC é€šä¿¡ |
| **è¯­è¨€** | Python 3.8+ | åŽç«¯é€»è¾‘å®žçŽ° |
| **å¼‚æ­¥æ¡†æž¶** | `asyncio` | é«˜å¹¶å‘å¤„ç† I/O å¯†é›†åž‹ä»»åŠ¡ |
| **äº¤æ˜“æ‰€æŽ¥å£** | **CCXT** | ç»Ÿä¸€å„å¤§äº¤æ˜“æ‰€ APIï¼ˆé¦–é€‰ Binanceï¼‰ |
| **æ•°æ®åˆ†æž** | Pandas, NumPy | æ—¶é—´åºåˆ—å¤„ç†ã€æŠ€æœ¯æŒ‡æ ‡è®¡ç®— |
| **æ—¥å¿—ä¸Žç›‘æŽ§** | `logging`, Custom SmartLogger | ç»“æž„åŒ–æ—¥å¿—ã€æ€§èƒ½ç›‘æŽ§ã€å¤šé€šé“åˆ†å‘ |
| **æŠ¥å‘Šç”Ÿæˆ** | Markdown, HTML/CSS | ç”Ÿæˆç²¾ç¾Žçš„é‚®ä»¶æ—¥æŠ¥å’Œå¯è§†åŒ– Artifacts |

---

## 3. é¡¹ç›®æž¶æž„ä¸Žç›®å½•ç»“æž„

é‡‡ç”¨**æ¨¡å—åŒ–åˆ†å±‚æž¶æž„**ï¼Œç¡®ä¿å„å­ç³»ç»Ÿä½Žè€¦åˆã€‚

```text
d:/MCP/
â”œâ”€â”€ Heablcoin.py                 # [å…¥å£] MCP æœåŠ¡å™¨ä¸»ç¨‹åºï¼Œè´Ÿè´£è·¯ç”±åˆ†å‘
â”œâ”€â”€ .env                         # [é…ç½®] çŽ¯å¢ƒå˜é‡ï¼ˆAPI Key, é‚®ä»¶é…ç½®ç­‰ï¼‰
â”œâ”€â”€ market_analysis/             # [æ¨¡å—] å¸‚åœºåˆ†æžå¼•æ“Ž
â”‚   â”œâ”€â”€ core.py                  # åˆ†æžè°ƒåº¦å™¨
â”‚   â””â”€â”€ tools.py                 # MCP å·¥å…·å®šä¹‰
â”œâ”€â”€ personal_analytics/          # [æ¨¡å—] ä¸ªäººç»©æ•ˆåˆ†æž
â”‚   â””â”€â”€ core.py                  # äº¤æ˜“æµæ°´åˆ†æžä¸Žå½’å› 
â”œâ”€â”€ learning/                    # [æ¨¡å—] äº¤æ˜“å­¦ä¹ ä¸Žè®­ç»ƒç³»ç»Ÿï¼ˆæ–°ç‰¹æ€§ï¼‰
â”œâ”€â”€ report/                      # [æ¨¡å—] æŠ¥å‘Šç”Ÿæˆå¼•æ“Ž
â”‚   â””â”€â”€ flexible_report/         # åŠ¨æ€ HTML é‚®ä»¶ç”Ÿæˆå™¨
â”œâ”€â”€ utils/                       # [é€šç”¨] å·¥å…·åº“
â”‚   â”œâ”€â”€ smart_logger.py          # æ™ºèƒ½æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ trade_storage.py         # äº¤æ˜“æ•°æ®æŒä¹…åŒ– (SQLite/CSV)
â”‚   â””â”€â”€ decorators.py            # é€šç”¨è£…é¥°å™¨
â””â”€â”€ docs/                        # [æ–‡æ¡£] é¡¹ç›®æ–‡æ¡£åº“
```

---

## 4. æ ¸å¿ƒè®¾è®¡æ¨¡å¼

### 4.1 MCP å·¥å…·è£…é¥°å™¨æ¨¡å¼
ä¸ºäº†ä¿è¯ Server çš„ç¨³å®šæ€§ï¼Œæ‰€æœ‰ MCP å·¥å…·éƒ½é€šè¿‡ `@mcp_tool_safe` è£…é¥°å™¨è¿›è¡Œå°è£…ã€‚
*   **ä½œç”¨**ï¼šæ•èŽ·æ‰€æœ‰æœªå¤„ç†å¼‚å¸¸ï¼Œé˜²æ­¢ Server å´©æºƒï¼›å°†é”™è¯¯å †æ ˆè®°å½•åˆ°æ—¥å¿—ï¼Œé€šè¿‡ MCP åè®®è¿”å›žå‹å¥½çš„é”™è¯¯æç¤ºã€‚

### 4.2 æ— å¹²æ‰°é€šä¿¡ (Side-channel Communication)
*   **åŽŸåˆ™**ï¼šMCP ä½¿ç”¨ `stdout` è¿›è¡Œåè®®é€šä¿¡ï¼Œä¸¥ç¦ä½¿ç”¨ `print()` è¾“å‡ºæ—¥å¿—ã€‚
*   **å®žçŽ°**ï¼šç³»ç»Ÿåˆå§‹åŒ–æ—¶å°† `sys.stdout` é‡å®šå‘åˆ° `sys.stderr`ã€‚æ‰€æœ‰ä¸šåŠ¡æ—¥å¿—å¿…é¡»é€šè¿‡ `logger` è¾“å‡ºï¼Œæˆ–æ˜Žç¡®å†™å…¥æ–‡ä»¶ã€‚

### 4.3 ä¾èµ–æ³¨å…¥ä¸Žå•ä¾‹
*   **äº¤æ˜“æ‰€å®žä¾‹**ï¼šé€šè¿‡ `ExchangePool` å•ä¾‹ç®¡ç† CCXT è¿žæŽ¥ï¼Œå¤ç”¨è¿žæŽ¥æ± ï¼Œå‡å°‘æ¡æ‰‹å¼€é”€ã€‚
*   **é…ç½®åŠ è½½**ï¼šé€šè¿‡ `.env` é›†ä¸­ç®¡ç†ï¼Œè¿è¡Œæ—¶æ”¯æŒéƒ¨åˆ†é…ç½®çš„åŠ¨æ€å¼€å…³ï¼ˆé€šçŸ¥ç³»ç»Ÿï¼‰ã€‚

---

## 5. å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹

### 5.1 çŽ¯å¢ƒå‡†å¤‡
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/heablcoin.git
cd mcp

# 2. åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
python -m venv venv
# Windows æ¿€æ´»
venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 5.2 é…ç½®æ–‡ä»¶
å¤åˆ¶æ¨¡æ¿å¹¶å¡«å†™ API Keyï¼š
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ BINANCE_API_KEY å’Œ BINANCE_SECRET_KEY
```

### 5.3 æœ¬åœ°è°ƒè¯•
ä¸ä¾èµ– Claude å®¢æˆ·ç«¯ï¼Œç›´æŽ¥è¿è¡Œæµ‹è¯•å¥—ä»¶éªŒè¯é€»è¾‘ï¼š
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
python tests/run_tests.py unit

# æµ‹è¯•é‚®ä»¶å‘é€
python tests/run_tests.py email
```
**æ³¨æ„**ï¼šç›´æŽ¥è¿è¡Œ `python Heablcoin.py` ä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºï¼ˆå› ä¸ºå®ƒåœ¨è¯¥æ¨¡å¼ä¸‹ä½œä¸º MCP Server ç­‰å¾… stdin è¾“å…¥ï¼‰ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨æµ‹è¯•è„šæœ¬æˆ–è¿žæŽ¥ Claude Desktop è¿›è¡Œè°ƒè¯•ã€‚

---

## 6. è´¡çŒ®æŒ‡å—

1.  **æ–°å»ºæ¨¡å—**ï¼šåœ¨å¯¹åº”ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ `.py` æ–‡ä»¶ï¼Œä¿æŒåŠŸèƒ½å•ä¸€èŒè´£ã€‚
2.  **æ³¨å†Œå·¥å…·**ï¼šåœ¨ `Heablcoin.py` æˆ–å¯¹åº”æ¨¡å—çš„ `mcp_tools.py` ä¸­æ³¨å†Œæ–°çš„ `@mcp.tool()`ã€‚
3.  **ç¼–å†™æµ‹è¯•**ï¼šä¸ºæ–°åŠŸèƒ½ç¼–å†™å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼ˆä½äºŽ `tests/` ç›®å½•ï¼‰ã€‚
4.  **éµå¾ªè§„èŒƒ**ï¼š
    *   æ‰€æœ‰ I/O æ“ä½œåº”å°½é‡å¼‚æ­¥ï¼ˆè™½ç„¶ç›®å‰éƒ¨åˆ† CCXT è°ƒç”¨ä¸ºåŒæ­¥ï¼Œæœªæ¥è®¡åˆ’å…¨é¢è¿ç§»åˆ° `ccxt.async_support`ï¼‰ã€‚
    *   ä¸¥æ ¼éµå®ˆæ—  `stdout` æ±¡æŸ“åŽŸåˆ™ã€‚

---

> **Happy Coding!** è®©æˆ‘ä»¬ä¸€èµ·æž„å»ºæœ€æ™ºèƒ½çš„äº¤æ˜“å‰¯é©¾é©¶ã€‚
